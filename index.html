<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <title>ISSF shooting</title>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
        <script src='https://s3-us-west-2.amazonaws.com/s.cdpn.io/127738/perlin.js'></script>
        <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>  No longer needed-->
        <script src="code.js"></script>
        <script>document.onmousemove = handleMouseMove;</script>
    </head>
    <body onload="main()">
	     <audio id="gunshot">
            <source src="/shots/shot1.wav" type="audio/mpeg">
        </audio>
        <audio id="shell">
            <source src="https://www.soundjay.com/mechanical/sounds/empty-bullet-shell-fall-01.mp3" type="audio/mpeg">
        </audio>
        <audio id="gun_empty">
            <source src="https://www.soundjay.com/mechanical/sounds/gun-trigger-click-01.mp3" type="audio/mpeg">
        </audio>
        <div id="gameover" class="w3-modal">
            <div class="w3-modal-content">
                <div class="w3-container">
                <p style="text-align:center; font-size:25px" >No more bullets!</p>
                <p style="text-align:center; font-size:20px" >Retry by selecting mode</p>
                </div>
            </div>
        </div>
        <div id="mainMenu">
            <h1>ISSF shooting simulator</h1>
            <img class="issfLogo" src="issf_logo.png" onclick="toggleMenu(true)"/>
            <p>Start playing!</p>
            <br>
            <h2>Your highscores</h2>
            <p id="movingTargTxt"></p>
            <p id="staticTargTxt"></p>
            <p id="pistolTargTxt"></p>
        </div>
      <div id="topDiv" class="top hidden-toggle" onclick="addScore()" onmouseover="mouseHover(true)">
            <img src="PaperPistol.svg" style="display:none" id="paperPistol"/>
            <img src="PaperStatic.svg" style="display:none" id="paperStatic"/>
            <img src="PaperMoving.svg" style="display:none" id="paperMoving"/>
            <img src="TargetPistol.svg" style="display:none" class="target tStatic" id="targetPistol"/>
            <img src="TargetStatic.svg" style="display:none" class="target tStatic" id="targetStatic"/>
            <img src="TargetMoving.svg" style="display:none" class="target tMoving" id="targetMoving"/>
            <img src="Shooting.svg"    style=display:inline class="base noMouse" id="frameMoving"/>
            <img src="scopePistol.svg" style="display:none" class="scope sStatic" id="scopePistol"/>
            <img src="scopeStatic.svg" style="display:none" class="scope sStatic" id="scopeStatic"/>
            <img src="scopeMoving.svg" style="display:none" class="scope sMoving" id="scopeMoving"/>
        </div>
        <div id="bottomDiv" class="bottom hidden-toggle" onmouseover="mouseHover(false)">
            <button class="button_back" onclick="toggleMenu(false)">Back to menu</button>
            <button class="button" onclick="changePistol()">Pistol</button>
            <button class="button" onclick="changeStatic()">Static</button>
            <button class="button" onclick="changeMoving()">Moving target</button>
            <label for="movingSpeed" id="movingSpeedLabel">Moving target speed:</label>
            <select class="custom-select" name="movingSpeed" id="movingSpeed" onchange="onSpeedChange()">
              	<option value="2.5">Fast</option>
              	<option value="5">Slow</option>
            </select>
            <button id="buttonInfo" class="button" onclick="targetInfo()">Moving target start</button>
            <table style="float: inline-start;" id="scoreTable">
            	<tr>
            	  	<th colspan="1" class="noBorder" >Bullets</th>
            	  	<th id="bulletsLeft"  class="blank_row noBorder" colspan="5"> <img id="bullet" src="Bullet.svg" alt="">&nbsp 10/10</th>
                    <th>Total</th>
                    <th style="font-size: 14px; padding: 1%;" colspan="1">Personal best </th>
            	</tr>
            	<tr>
            	  	<td rowspan="2">Score</td> 
            	  	<td>&nbsp</td>
            	  	<td>&nbsp</td>
            	  	<td>&nbsp</td>
            	  	<td>&nbsp</td>
            	  	<td>&nbsp</td>
                    <td id="totalScore" rowspan="2">&nbsp</td>
                    <td  id="personalBest" rowspan="2">&nbsp</td>

            	</tr>
            	<tr>
            	  	<td>&nbsp</td>
            	  	<td>&nbsp</td>
            	  	<td>&nbsp</td>
            	  	<td>&nbsp</td>
            	  	<td>&nbsp</td>
                </tr>

            </table>
            <div>
              	<p id="reticle_coords"></p>
            </div> 
            <canvas id="myCanvas"></canvas>
        </div>
    </body>
</html>
